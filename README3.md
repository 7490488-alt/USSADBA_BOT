๐ก Telegram-ะฑะพั ยซะฃัะฐะดัะฑะฐยป ั ะะ ัะตัะตะท Yandex LLM
AI-ะฟะพะผะพัะฝะธะบ ะดะปั ะฟัะพะตะบัะฐ ยซะฃัะฐะดัะฑะฐยป โ ะพัะฒะตัะฐะตั ะฝะฐ ะฒะพะฟัะพัั, ะพัะฟัะฐะฒะปัะตั ะดะพะบัะผะตะฝัั, ะฟะพะผะฝะธั ะธััะพัะธั ะดะธะฐะปะพะณะฐ ะธ ัะฐะฑะพัะฐะตั ัะตัะตะท Yandex LLM.

๐ ะคัะฝะบัะธะพะฝะฐะป
โ ะัะฒะตัั ะพั ะะ ัะตัะตะท Yandex LLM (yandexgpt-lite)
โ ะฅัะฐะฝะตะฝะธะต ะธััะพัะธะธ ะดะธะฐะปะพะณะพะฒ (ะฟะพ ัะฐัะฐะผ)
โ ะััะธัะพะฒะฐะฝะธะต ะพัะฒะตัะพะฒ ะดะปั ัะบะพะฝะพะผะธะธ ัะพะบะตะฝะพะฒ ะธ ัะบะพัะพััะธ
โ ะัะฟัะฐะฒะบะฐ ะดะพะบัะผะตะฝัะพะฒ ะฟะพ ะทะฐะฟัะพัั
โ ะะฐัะธัะฐ ะพั ัะฟะฐะผะฐ (ะพะณัะฐะฝะธัะตะฝะธะต 2 ัะตะบ ะฝะฐ ะทะฐะฟัะพั)
โ ะัะธะฝััะพะฝะฝะฐั ะฐััะธัะตะบัััะฐ (ะฒััะพะบะฐั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั)
โ ะะพะดัะปัะฝะฐั ััััะบัััะฐ (ะปะตะณะบะพ ะผะฐัััะฐะฑะธัะพะฒะฐัั)
๐งฐ ะขะตัะฝะพะปะพะณะธะธ
python-telegram-bot v20+ โ ะดะปั ัะฐะฑะพัั ั Telegram
Yandex LLM โ ัะตัะตะท ัะพะฒะผะตััะธะผัะน ั OpenAI API
pydantic-settings โ ะดะปั ะทะฐะณััะทะบะธ .env
httpx โ ะฐัะธะฝััะพะฝะฝัะต HTTP-ะทะฐะฟัะพัั
pydantic โ ะฒะฐะปะธะดะฐัะธั ะธ ะฝะฐัััะพะนะบะธ
ะกัััะบัััะฐ: main.py โ bot/ โ services/ โ utils/

๐ฆ ะฃััะฐะฝะพะฒะบะฐ
1. ะะปะพะฝะธััะน ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/ะฒะฐั-ัะตะฟะพะทะธัะพัะธะน/ussadba_bot.git
cd ussadba_bot
2. ะฃััะฐะฝะพะฒะธ ะทะฐะฒะธัะธะผะพััะธ
pip install -r requirements.txt
ะกะพะทะดะฐะน .env ัะฐะนะป
BOT_TOKEN=8293618472:AAE...
YA_API_KEY=AQVNzsBBP...
YA_FOLDER_ID=your-folder-id
๐ ะะต ะฟัะฑะปะธะบัะน ะบะปััะธ ะฒ Git! 

๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ
ussadba_bot/
โ
โโโ main.py                     # ๐ ะขะพัะบะฐ ะฒัะพะดะฐ: ะทะฐะฟััะบะฐะตั ะฑะพัะฐ
โโโ config.py                   # โ๏ธ ะะฐัััะพะนะบะธ ัะตัะตะท Pydantic (ัะพะบะตะฝั, ะฟััะธ)
โโโ requirements.txt            # ๐ฆ ะะฐะฒะธัะธะผะพััะธ: pip install -r requirements.txt
โโโ .env                        # ๐ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั (ะฝะต ะบะพะผะผะธัะธัั!)
โ
โโโ data/                       # ๐ ะะฐะฝะฝัะต ะฑะพัะฐ
โ   โโโ documents/              # ๐ PDF, XLSX, DOCX โ ะดะพะบัะผะตะฝัั ะดะปั ะพัะฟัะฐะฒะบะธ
โ   โโโ history/                # ๐ฌ JSON-ัะฐะนะปั ั ะธััะพัะธะตะน ะดะธะฐะปะพะณะพะฒ
โ   โโโ logs/                   # ๐ ะะพะณะธ ะฟะพ ะดะฐัะฐะผ: bot_2025-08-30.log
โ
โโโ bot/                        # ๐ค ะะพะณะธะบะฐ ะฑะพัะฐ
โ   โโโ __init__.py             # ะะฐะบะตั Python
โ   โโโ application.py          # ๐งฉ ะะตะณะธัััะฐัะธั ะพะฑัะฐะฑะพััะธะบะพะฒ (/start, /docs, ัะฐั)
โ   โโโ handlers/               # ๐ฅ ะะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด
โ       โโโ start.py            # ๐ ะัะธะฒะตัััะฒะธะต ะธ ะบะฝะพะฟะบะธ
โ       โโโ docs.py             # ๐ ะัะฟัะฐะฒะบะฐ ะดะพะบัะผะตะฝัะพะฒ
โ       โโโ chat.py             # ๐ฌ ะะธะฐะปะพะณ ั ะะ ัะตัะตะท Yandex LLM
โ
โโโ services/                   # โ๏ธ ะกะตัะฒะธัั
โ   โโโ llm.py                  # ๐ง ะะปะธะตะฝั Yandex LLM
โ   โโโ cache.py                # ๐พ ะััะธัะพะฒะฐะฝะธะต ะพัะฒะตัะพะฒ ะะ
โ   โโโ history.py              # ๐ ะะฐะณััะทะบะฐ/ัะพััะฐะฝะตะฝะธะต ะธััะพัะธะธ
โ
โโโ utils/                      # ๐ ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะธะปะธัั
    โโโ logger.py               # ๐ข ะะฐัััะพะนะบะฐ ะปะพะณะธัะพะฒะฐะฝะธั
    โโโ helpers.py              # ๐ง ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ (get_cache_key ะธ ะดั.)
    
    ๐งช ะะฐะฟััะบ ะฑะพัะฐ
ะะฐะฟัััะธ ะธะท ะพะฑััะฝะพะณะพ ัะตัะผะธะฝะฐะปะฐ (ะฝะต ะธะท Jupyter/REPL):
python main.py
๐ก ะัะปะธ ะพัะธะฑะบะฐ event loop is already running, ะธัะฟะพะปัะทัะน ัะธัััะน cmd ะธะปะธ PowerShell. 
๐ ะะฐัััะพะนะบะฐ
1. ะัะพะผะฟั
ะััะตะดะฐะบัะธััะน:
prompts/prompt_1.txt
2. ะะพะบัะผะตะฝัั
ะะพะปะพะถะธ ัะฐะนะปั ะฒ:
data/documents/
ะ ะดะพะฑะฐะฒั ะฒ DOCUMENTS_MAP ะฒ docs.py:
DOCUMENTS_MAP = {
    "ะฟัะตะทะตะฝัะฐัะธั": "ะัะตะทะตะฝัะฐัะธั.pdf",
    "ะฑะธะทะฝะตั-ะฟะปะฐะฝ": "ะะธะทะฝะตั-ะฟะปะฐะฝ.pdf",
    # ...
}

๐ ะะพะณะธัะพะฒะฐะฝะธะต
ะะพะณะธ ะฟะธััััั ะฒ:
data/logs/bot_2025-08-29.log
ะัะธะผะตั:
2025-08-29 13:42:05,051 - utils.logger - INFO - โ ะัะพะผะฟั ะทะฐะณััะถะตะฝ
2025-08-29 13:42:07,737 - utils.logger - INFO - ๐ ะะพั ะทะฐะฟััะตะฝ. ะะถะธะดะฐะฝะธะต ัะพะพะฑัะตะฝะธะน...

๐ฆ ะะฐะปัะฝะตะนัะตะต ัะฐะทะฒะธัะธะต
ะะพะฑะฐะฒะธัั ะบะฝะพะฟะบะธ ะธ ะผะตะฝั
ะะพะดะดะตัะถะบะฐ ะฑะพะปััะธั ัะฐะนะปะพะฒ (ัะตัะตะท ะพะฑะปะฐะบะพ)
ะะฝะฐะปะธัะธะบะฐ: ััะฐัะธััะธะบะฐ ะทะฐะฟัะพัะพะฒ
Docker-ะพะฑัะฐะท
Web ะธะฝัะตััะตะนั ะดะปั ะผะตะฝะตะดะถะตัะพะฒ
๐ ะะธัะตะฝะทะธั
MIT
๐ฅ๏ธ Web ะธะฝัะตััะตะนั ะดะปั ะผะตะฝะตะดะถะตัะพะฒ: ๐งฑ "ะะฐะทะพะฒัะน Flask-ะธะฝัะตััะตะนั"

๐ ะะพะปะฝัะน ัะฐะนะป bot/handlers/docs.py ั ะฐะฒัะพัะบะฐะฝะธัะพะฒะฐะฝะธะตะผ, ะทะฐัะธัะพะน ะธ ะบะฝะพะฟะบะฐะผะธ
๐ง ะงัะพ ะดะตะปะฐะตั ััะพั ะบะพะด:
โ ะะฒัะพัะบะฐะฝะธัะพะฒะฐะฝะธะต ะฟะฐะฟะบะธ
ะกะบะฐะฝะธััะตั data/documents/ ะฟัะธ ะบะฐะถะดะพะผ ะทะฐะฟัะพัะต
ะะฒัะพะผะฐัะธัะตัะบะธ ะฝะฐัะพะดะธั ะฒัะต ะฟะพะดัะพะดััะธะต ัะฐะนะปั
ะะต ััะตะฑัะตั ัััะฝะพะณะพ ะพะฑะฝะพะฒะปะตะฝะธั DOCUMENTS_MAP
๐ ะะฐัะธัะฐ ะพั ะฟััะธ ะฒะธะดะฐ ../
ะัะพะฒะตััะตั ะธะผะตะฝะฐ ัะฐะนะปะพะฒ ะฝะฐ ะฝะฐะปะธัะธะต ..
ะะปะพะบะธััะตั ะฐะฑัะพะปััะฝัะต ะฟััะธ
ะัะพะฒะตััะตั ัะฐััะธัะตะฝะธั ัะฐะนะปะพะฒ
ะคะธะปััััะตั ะฟะพะดะพะทัะธัะตะปัะฝัะต ัะธะผะฒะพะปั
๐ ะะฝะพะฟะบะธ ะดะปั ะฒัะฑะพัะฐ ะดะพะบัะผะตะฝัะพะฒ
ะะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐัั ะบะปะฐะฒะธะฐัััั ั ะดะพะบัะผะตะฝัะฐะผะธ
ะะพะบะฐะทัะฒะฐะตั ัะผะพะดะทะธ ะฟะพ ัะธะฟั ัะฐะนะปะฐ
ะะพะดะดะตัะถะธะฒะฐะตั ะฟะพะธัะบ ะฟะพ ะฝะฐะทะฒะฐะฝะธั
ะะพะบะฐะทัะฒะฐะตั ัะฐะทะผะตั ัะฐะนะปะฐ
โ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ััะฝะบัะธะธ
ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ัะฐะทะผะตัะฐ ัะฐะนะปะฐ (KB, MB)
HTML-ัะฐะทะผะตัะบะฐ ะดะปั ะบัะฐัะธะฒะพะณะพ ะพัะพะฑัะฐะถะตะฝะธั
ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ ะฟัะธ ะพัะฟัะฐะฒะบะต
ะะพะดะดะตัะถะบะฐ ะบะธัะธะปะปะธัั ะฒ ะฝะฐะทะฒะฐะฝะธัั
๐ ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั:
ะะพะปะพะถะธ ะดะพะบัะผะตะฝัั ะฒ data/documents/
ะะฐะฟัััะธ ะฑะพัะฐ
ะะฐะฟะธัะธ /docs โ ะฟะพะปััะธัั ะผะตะฝั ั ะบะฝะพะฟะบะฐะผะธ
ะะฐะถะผะธ ะฝะฐ ะบะฝะพะฟะบั ะธะปะธ ะฒะฒะตะดะธ ะฝะฐะทะฒะฐะฝะธะต ะดะพะบัะผะตะฝัะฐ



ะะฝะพะฟะบะธ ะดะปั ะดะพะบัะผะตะฝัะพะฒ ะดะพะฑะฐะฒะปััััั ะฒ ัะฐะนะป:
bot/handlers/docs.py

"ะะพะฑะฐะฒั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั"
"ะกะดะตะปะฐะน ะฒะตะฑ-ะธะฝัะตััะตะนั"
"ะะพะฑะฐะฒั ะฑะฐะทั ะดะฐะฝะฝัั (SQLite)"
"ะะฝัะตะณัะธััะน ั CRM"
โ "ะะพะฑะฐะฒั ะบะฝะพะฟะบั 'ะะพะบัะผะตะฝัั' ะฒ ััะฐััะพะฒะพะต ะผะตะฝั"


